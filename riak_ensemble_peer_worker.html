<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Module riak_ensemble_peer_worker</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module riak_ensemble_peer_worker</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>
  Long-lived worker process used by <a href="riak_ensemble_peer.html"><code>riak_ensemble_peer</code></a> to handle  
asynchronous work such as K/V gets and puts.


<h2><a name="description">Description</a></h2><p>
  Long-lived worker process used by <a href="riak_ensemble_peer.html"><code>riak_ensemble_peer</code></a> to handle  
asynchronous work such as K/V gets and puts. The peer maintains a pool  
of workers and routes requests to workers based on object key, ensuring  
that operations that affect the same key are serialized on the same worker.  
Thus, workers also enable partitioned queuing. These workers can also be  
paused and resumed. This is used by the peer when necessary to enforce  
necessary barriers. For example, a leader will pause all workers before  
attempting to change ensemble membership, then resume workers after. This  
prevents workers from issuing requests during a changing ownership set,  
since those requests will likely be rejected.</p>
 
  Note: pausing/resuming is best-effort. A worker currently involved
  in a request will not pause until after completing/failing the request.
  Thus, pause/resume is not designed to provide guarantees for correctness,
  but rather as a tool for optimization (eg. to prevent issues requests
  that will likely fail because some other correctness mechanism rejects them).
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#loop-1">loop/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#maybe_pause-1">maybe_pause/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#pause_workers-2">pause_workers/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#start-1">start/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#unpause_workers-2">unpause_workers/2</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="loop-1">loop/1</a></h3>
<div class="spec">
<p><tt>loop(ETS) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="maybe_pause-1">maybe_pause/1</a></h3>
<div class="spec">
<p><tt>maybe_pause(ETS) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="pause_workers-2">pause_workers/2</a></h3>
<div class="spec">
<p><tt>pause_workers(Workers::[pid()], ETS::<a href="ets.html#type-tid">ets:tid()</a>) -&gt; ok</tt><br></p>
</div>

<h3 class="function"><a name="start-1">start/1</a></h3>
<div class="spec">
<p><tt>start(ETS::<a href="ets.html#type-tid">ets:tid()</a>) -&gt; {ok, pid()}</tt><br></p>
</div>

<h3 class="function"><a name="unpause_workers-2">unpause_workers/2</a></h3>
<div class="spec">
<p><tt>unpause_workers(Workers::[pid()], ETS::<a href="ets.html#type-tid">ets:tid()</a>) -&gt; ok</tt><br></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Jun 11 2014, 15:43:21.</i></p>
</body>
</html>
